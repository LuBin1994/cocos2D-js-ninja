{"version":3,"sources":["util.js"],"names":["Util","btnEvent","NODE","btnSound","CALLBACKS","on","setScale","GameDataManager","canSoundPlay","cc","audioEngine","playEffect","modeBtnEvent","gameStartDataInit","totalScore","isMove","isSuccess","canDrop","move","isAnimate","isLengthen","isStartLengthen","isGameOver","isHideSub","gameContinueDataInit","randomNum","multiple","Math","floor","random","setGameDifficulty","num","GameConfig","MaxMultiProbability","sharkJumpDurTime","gameLog","error","str","wx","request","url","LOG_URL","data","env","systemInfo","system","brand","model","pixelRatio","screenWidth","screenHeight","version","platform","sdkVersion","benchmarkLevel","header","getStorageSync","method","seccuss","res","status","console","log","info"],"mappings":";;;;;;;;;;AAAA;;;;AACA;;;;;;AACA,IAAIA,OAAO;AACP;;;;;;AAMAC,YAPO,oBAOEC,IAPF,EAOOC,QAPP,EAOgBC,SAPhB,EAO0B;AAC7BF,aAAKG,EAAL,CAAQ,YAAR,EAAqB,YAAU;AAC3BH,iBAAKI,QAAL,CAAc,GAAd;AACA,gBAAGC,0BAAgBC,YAAnB,EAAgC;AAC5BC,mBAAGC,WAAH,CAAeC,UAAf,CAA0BR,QAA1B,EAAmC,KAAnC,EAAyC,CAAzC;AACH;AACJ,SALD;AAMAD,aAAKG,EAAL,CAAQ,UAAR,EAAmB,YAAU;AACzBH,iBAAKI,QAAL,CAAc,CAAd;AACAF,yBAAaA,WAAb;AACH,SAHD;AAIAF,aAAKG,EAAL,CAAQ,aAAR,EAAsB,YAAY;AAC9BH,iBAAKI,QAAL,CAAc,CAAd;AACAF,yBAAaA,WAAb;AACH,SAHD;AAIH,KAtBM;;AAuBP;;;;;;AAMAQ,gBA7BO,wBA6BMV,IA7BN,EA6BWC,QA7BX,EA6BoBC,SA7BpB,EA6B8B;AACjCF,aAAKG,EAAL,CAAQ,YAAR,EAAqB,YAAU;AAC3B,gBAAGE,0BAAgBC,YAAnB,EAAgC;AAC5BC,mBAAGC,WAAH,CAAeC,UAAf,CAA0BR,QAA1B,EAAmC,KAAnC,EAAyC,CAAzC;AACH;AACJ,SAJD;AAKAD,aAAKG,EAAL,CAAQ,UAAR,EAAmB,YAAU;AACzBD,yBAAaA,WAAb;AACH,SAFD;AAGH,KAtCM;;AAuCP;;;AAGAS,qBA1CO,+BA0CY;AACfN,kCAAgBO,UAAhB,GAA6B,CAA7B;AACAP,kCAAgBQ,MAAhB,GAAyB,KAAzB;AACAR,kCAAgBS,SAAhB,GAA4B,KAA5B;AACAT,kCAAgBU,OAAhB,GAA0B,KAA1B;AACAV,kCAAgBW,IAAhB,GAAuB,CAAvB;AACAX,kCAAgBY,SAAhB,GAA4B,KAA5B;AACAZ,kCAAgBa,UAAhB,GAA6B,KAA7B;AACAb,kCAAgBc,eAAhB,GAAkC,KAAlC;AACAd,kCAAgBe,UAAhB,GAA6B,KAA7B;AACAf,kCAAgBgB,SAAhB,GAA4B,KAA5B;AACH,KArDM;;AAsDP;;;AAGAC,wBAzDO,kCAyDe;AAClBjB,kCAAgBQ,MAAhB,GAAyB,KAAzB;AACAR,kCAAgBS,SAAhB,GAA4B,KAA5B;AACAT,kCAAgBU,OAAhB,GAA0B,KAA1B;AACAV,kCAAgBW,IAAhB,GAAuB,CAAvB;AACAX,kCAAgBY,SAAhB,GAA4B,KAA5B;AACAZ,kCAAgBa,UAAhB,GAA6B,KAA7B;AACAb,kCAAgBc,eAAhB,GAAkC,KAAlC;AACAd,kCAAgBe,UAAhB,GAA6B,KAA7B;AACAf,kCAAgBgB,SAAhB,GAA4B,KAA5B;AACH,KAnEM;;AAoEP;;;;AAIAE,aAxEO,qBAwEGC,QAxEH,EAwEY;AACf,eAAOC,KAAKC,KAAL,CAAWD,KAAKE,MAAL,KAAcH,QAAzB,CAAP;AACH,KA1EM;;AA2EP;;;;AAIAI,qBA/EO,6BA+EWC,GA/EX,EA+Ee;AAClBC,6BAAWC,mBAAX,GAAiC,OAAK,MAAIF,GAA1C;AACAC,6BAAWE,gBAAX,GAA8B,KAAG,IAAEH,GAAnC;AACH,KAlFM;;AAmFP;;;;AAIAI,WAvFO,mBAuFCC,KAvFD,EAuFO;AACV,YAAIC,MAAMD,KAAV;AACAE,WAAGC,OAAH,CAAW;AACPC,iBAAIR,qBAAWS,OAAX,GAAmB,QADhB;AAEPC,kBAAK;AACD,wBAAO,CADN;AAED,uBAAMV,qBAAWW,GAFhB;AAGD,2BAAUN,GAHT;AAID,0BAASL,qBAAWY,UAAX,CAAsBC,MAJ9B;AAKD,yBAAQb,qBAAWY,UAAX,CAAsBE,KAL7B;AAMD,yBAAQd,qBAAWY,UAAX,CAAsBG,KAN7B;AAOD,8BAAaf,qBAAWY,UAAX,CAAsBI,UAPlC;AAQD,+BAAchB,qBAAWY,UAAX,CAAsBK,WARnC;AASD,gCAAejB,qBAAWY,UAAX,CAAsBM,YATpC;AAUD,2BAAUlB,qBAAWY,UAAX,CAAsBO,OAV/B;AAWD,4BAAWnB,qBAAWY,UAAX,CAAsBQ,QAXhC;AAYD,8BAAapB,qBAAWY,UAAX,CAAsBS,UAZlC;AAaD,kCAAiBrB,qBAAWY,UAAX,CAAsBU;AAbtC,aAFE;AAiBPC,oBAAQ;AACJ,gCAAgB,mCADZ;AAEJ,6BAAY,aAAWjB,GAAGkB,cAAH,CAAkB,WAAlB;AAFnB,aAjBD;AAqBPC,oBAAO,MArBA;AAsBPC,mBAtBO,mBAsBCC,GAtBD,EAsBK;AACR,oBAAGA,IAAIjB,IAAJ,CAASkB,MAAZ,EAAmB;AACfC,4BAAQC,GAAR,CAAY,QAAZ;AACH,iBAFD,MAGI;AACFD,4BAAQC,GAAR,CAAYH,IAAIjB,IAAJ,CAASqB,IAArB;AACH;AACF;AA7BM,SAAX;AA+BH;AAxHM,CAAX;kBA0He/D","file":"util.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\utils","sourcesContent":["import GameDataManager from '../gameDataManager';\nimport GameConfig from '../gameConfig'\nvar Util = {\n    /**\n     * 普通按钮触摸效果\n     * @param NODE 按钮节点\n     * @param btnSound 按钮音效\n     * @param CALLBACKS touchend回调函数\n     */\n    btnEvent(NODE,btnSound,CALLBACKS){\n        NODE.on('touchstart',function(){\n            NODE.setScale(0.8);\n            if(GameDataManager.canSoundPlay){\n                cc.audioEngine.playEffect(btnSound,false,1);\n            }\n        });\n        NODE.on('touchend',function(){\n            NODE.setScale(1);\n            CALLBACKS && CALLBACKS();\n        });\n        NODE.on('touchcancel',function () {\n            NODE.setScale(1);\n            CALLBACKS && CALLBACKS();\n        })\n    },\n    /**\n     * 模式选择按钮触摸效果\n     * @param NODE 按钮节点\n     * @param btnSound 按钮音效\n     * @param CALLBACKS touchend回调函数\n     */\n    modeBtnEvent(NODE,btnSound,CALLBACKS){\n        NODE.on('touchstart',function(){\n            if(GameDataManager.canSoundPlay){\n                cc.audioEngine.playEffect(btnSound,false,1);\n            }\n        });\n        NODE.on('touchend',function(){\n            CALLBACKS && CALLBACKS();\n        });\n    },\n    /**\n     * 游戏开始或重开数据初始化\n     */\n    gameStartDataInit(){\n        GameDataManager.totalScore = 0;\n        GameDataManager.isMove = false;\n        GameDataManager.isSuccess = false;\n        GameDataManager.canDrop = false;\n        GameDataManager.move = 0;\n        GameDataManager.isAnimate = false;\n        GameDataManager.isLengthen = false;\n        GameDataManager.isStartLengthen = false;\n        GameDataManager.isGameOver = false;\n        GameDataManager.isHideSub = false;\n    },\n    /**\n     * 本局游戏继续数据初始化\n     */\n    gameContinueDataInit(){\n        GameDataManager.isMove = false;\n        GameDataManager.isSuccess = false;\n        GameDataManager.canDrop = false;\n        GameDataManager.move = 0;\n        GameDataManager.isAnimate = false;\n        GameDataManager.isLengthen = false;\n        GameDataManager.isStartLengthen = false;\n        GameDataManager.isGameOver = false;\n        GameDataManager.isHideSub = false;\n    },\n    /**\n     * 返回随机数，范围 0~multiple的整数\n     * @param multiple 随机数上限\n     */\n    randomNum(multiple){\n        return Math.floor(Math.random()*multiple);\n    },\n    /**\n     * 游戏难度设置\n     * @param num 游戏难度等级\n     */\n    setGameDifficulty(num){\n        GameConfig.MaxMultiProbability = 0.13+0.7*num;\n        GameConfig.sharkJumpDurTime = 40-3*num;\n    },\n    /**\n     * 游戏日志\n     * @param error 内容\n     */\n    gameLog(error){\n        var str = error\n        wx.request({\n            url:GameConfig.LOG_URL+'submit',\n            data:{\n                'code':2,\n                'env':GameConfig.env,\n                'content':str,\n                'system':GameConfig.systemInfo.system,\n                'brand':GameConfig.systemInfo.brand,\n                'model':GameConfig.systemInfo.model,\n                'pixelRatio':GameConfig.systemInfo.pixelRatio,\n                'screenWidth':GameConfig.systemInfo.screenWidth,\n                'screenHeight':GameConfig.systemInfo.screenHeight,\n                'version':GameConfig.systemInfo.version,\n                'platform':GameConfig.systemInfo.platform,\n                'sdkVersion':GameConfig.systemInfo.sdkVersion,\n                'benchmarkLevel':GameConfig.systemInfo.benchmarkLevel,\n            },\n            header: {\n                'content-type': 'application/x-www-form-urlencoded',\n                'sessionId':'SESSION='+wx.getStorageSync('sessionId')\n            },\n            method:\"POST\",\n            seccuss(res){\n                if(res.data.status){\n                    console.log('日志提交成功')\n                }\n                else{\n                  console.log(res.data.info)\n              }\n            }\n        })\n    }\n}\nexport default Util"]}