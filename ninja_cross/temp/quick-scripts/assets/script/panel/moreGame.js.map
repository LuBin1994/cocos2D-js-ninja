{"version":3,"sources":["moreGame.js"],"names":["cc","Class","extends","Component","properties","app","default","type","Array","onLoad","appName","appId","_this","rotate","node","on","num","Util","randomNum","GameConfig","IS_WX","wx","navigateToMiniProgram","success","res","request","url","INTER_URL","data","env","header","getStorageSync","method","console","log","status","code","error","delayTime","shake1","rotateBy","shake2","shake3","shake","repeat","sequence","ani","repeatAni","repeatForever","runAction"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;AAELC,gBAAY;AACRC,aAAI,EAACC,SAAQ,EAAT;AACJC,kBAAKC,KADD;AADI,KAFP;AAMLC,UANK,oBAMG;AACJ,aAAKJ,GAAL,GAAW,CACP,EAACK,SAAQ,OAAT,EAAiBC,OAAM,oBAAvB,EADO,EAEP,EAACD,SAAQ,MAAT,EAAgBC,OAAM,oBAAtB,EAFO,EAGP,EAACD,SAAQ,OAAT,EAAiBC,OAAM,oBAAvB,EAHO,CAAX;AAKA,YAAIC,QAAQ,IAAZ;AACA,aAAKC,MAAL;AACA,aAAKC,IAAL,CAAUC,EAAV,CAAa,YAAb,EAA0B,YAAW;AACjC,gBAAIC,MAAMC,eAAKC,SAAL,CAAe,CAAf,CAAV;AACA,gBAAGC,qBAAWC,KAAd,EAAoB;AAChBC,mBAAGC,qBAAH,CAAyB;AACrBX,2BAAMC,MAAMP,GAAN,CAAUW,GAAV,EAAeL,KADA;AAErBY,2BAFqB,mBAEbC,GAFa,EAER;AACTH,2BAAGI,OAAH,CAAW;AACPC,iCAAIP,qBAAWQ,SAAX,GAAqB,eADlB;AAEPC,kCAAK;AACD,yCAAShB,MAAMP,GAAN,CAAUW,GAAV,EAAeL,KADvB;AAED,wCAAQC,MAAMP,GAAN,CAAUW,GAAV,EAAeN,OAFtB;AAGD,wCAAO,EAHN;AAID,6CAAY,EAJX;AAKD,uCAAMS,qBAAWU;AALhB,6BAFE;AASPC,oCAAO;AACH,gDAAgB,mCADb;AAEH,0CAAS,aAAWT,GAAGU,cAAH,CAAkB,WAAlB;AAFjB,6BATA;AAaPC,oCAAQ,MAbD;AAcPT,qCAAQ,iBAAUC,GAAV,EAAc;AAClBS,wCAAQC,GAAR,CAAY,aAAZ,EAA0BV,IAAII,IAA9B;AACA,oCAAGJ,IAAII,IAAJ,CAASO,MAAT,IAAmB,CAAtB,EAAwB;AACpBF,4CAAQC,GAAR,CAAY,UAAZ;AACH,iCAFD,MAGI;AACA,4CAAOV,IAAII,IAAJ,CAASQ,IAAhB;AACI,6CAAK,IAAL;AACIH,oDAAQC,GAAR,CAAY,YAAZ;AACA;AAHR;AAKH;AACJ,6BA1BM;AA2BPG,mCAAM,iBAAY;AACdJ,wCAAQC,GAAR,CAAY,MAAZ;AACH;AA7BM,yBAAX;AA+BH;AAlCoB,iBAAzB;AAoCH;AACJ,SAxCD;AAyCH,KAvDI;AAwDLrB,UAxDK,oBAwDG;AACJ,YAAIyB,YAAYtC,GAAGsC,SAAH,CAAa,CAAb,CAAhB;AACA,YAAIC,SAASvC,GAAGwC,QAAH,CAAY,GAAZ,EAAiB,CAAC,EAAlB,CAAb;AACA,YAAIC,SAASzC,GAAGwC,QAAH,CAAY,GAAZ,EAAiB,EAAjB,CAAb;AACA,YAAIE,SAAS1C,GAAGwC,QAAH,CAAY,GAAZ,EAAiB,CAAC,EAAlB,CAAb;AACA,YAAIG,QAAQ3C,GAAG4C,MAAH,CAAU5C,GAAG6C,QAAH,CAAYN,MAAZ,EAAmBE,MAAnB,EAA0BC,MAA1B,CAAV,EAA4C,CAA5C,CAAZ;AACA,YAAII,MAAM9C,GAAG6C,QAAH,CAAYP,SAAZ,EAAsBK,KAAtB,CAAV;AACA,YAAII,YAAY/C,GAAGgD,aAAH,CAAiBF,GAAjB,CAAhB;AACA,aAAKhC,IAAL,CAAUmC,SAAV,CAAoBF,SAApB;AACH;AAjEI,CAAT","file":"moreGame.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\panel","sourcesContent":["import GameConfig from '../gameConfig';\r\nimport Util from '../utils/util'\r\ncc.Class({\r\n    extends: cc.Component,\r\n    properties: {\r\n        app:{default:[],\r\n        type:Array}\r\n    },\r\n    onLoad(){\r\n        this.app = [\r\n            {appName:'忍者对对碰',appId:'wx60dc6bacf553bdfc'},\r\n            {appName:'忍者逃亡',appId:'wx362bde88fb09a159'},\r\n            {appName:'智慧冲冲冲',appId:'wx1e13b29ab6873da6'}\r\n            ]\r\n        var _this = this;\r\n        this.rotate();\r\n        this.node.on('touchstart',function (){\r\n            var num = Util.randomNum(3);\r\n            if(GameConfig.IS_WX){\r\n                wx.navigateToMiniProgram({\r\n                    appId:_this.app[num].appId,\r\n                    success(res) {\r\n                        wx.request({\r\n                            url:GameConfig.INTER_URL+\"game/navigate\",\r\n                            data:{\r\n                                'appId': _this.app[num].appId,\r\n                                'name': _this.app[num].appName,\r\n                                'path':'',\r\n                                'extraData':'',\r\n                                'env':GameConfig.env,\r\n                            },\r\n                            header:{\r\n                                'content-type': 'application/x-www-form-urlencoded',\r\n                                'Cookie':\"SESSION=\"+wx.getStorageSync('sessionId')\r\n                            },\r\n                            method: \"POST\",\r\n                            success:function (res){\r\n                                console.log(\"跳转到其他小程序返回值\",res.data)\r\n                                if(res.data.status == 1){\r\n                                    console.log(\"提交跳转信息成功\")\r\n                                }\r\n                                else{\r\n                                    switch(res.data.code){\r\n                                        case 1005:\r\n                                            console.log(\"提交跳转信息参数错误\")\r\n                                            break;\r\n                                    }\r\n                                }\r\n                            },\r\n                            error:function () {\r\n                                console.log(\"连接错误\")\r\n                            }\r\n                        })\r\n                    }\r\n                })\r\n            }\r\n        })\r\n    },\r\n    rotate(){\r\n        var delayTime = cc.delayTime(2)\r\n        var shake1 = cc.rotateBy(0.1, -20);\r\n        var shake2 = cc.rotateBy(0.2, 40);\r\n        var shake3 = cc.rotateBy(0.1, -20);\r\n        var shake = cc.repeat(cc.sequence(shake1,shake2,shake3),3)\r\n        var ani = cc.sequence(delayTime,shake);\r\n        var repeatAni = cc.repeatForever(ani);\r\n        this.node.runAction(repeatAni);\r\n    },\r\n});\r\n"]}