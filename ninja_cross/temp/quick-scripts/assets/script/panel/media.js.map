{"version":3,"sources":["media.js"],"names":["cc","Class","extends","Component","properties","musicOn","Node","musicOff","bgm","AudioClip","isMusicOn","onLoad","_this","loader","load","err","clip","musicInit","start","musicBtnDispaly","active","GameDataManager","canSoundPlay","audioEngine","playMusic","on","pauseMusic","gameConfig","isScreemCanTouch","setTimeout","resumeMusic"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;AAELC,gBAAY;AACRC,iBAAQL,GAAGM,IADH;AAERC,kBAASP,GAAGM,IAFJ;AAGRE,aAAKR,GAAGS,SAHA;AAIRC,mBAAU;AAJF,KAFP;AAQL;AACAC,UATK,oBASI;AACL,YAAIC,QAAQ,IAAZ;AACAZ,WAAGa,MAAH,CAAUC,IAAV,CAAe,2CAAf,EAA4D,UAASC,GAAT,EAAcC,IAAd,EAAoB;AAC5EJ,kBAAMJ,GAAN,GAAYQ,IAAZ;AACAJ,kBAAMK,SAAN;AACH,SAHD;AAIH,KAfI;AAgBLC,SAhBK,mBAgBG,CAAE,CAhBL;;AAiBL;AACAC,qBAAiB,2BAAY;AACzB,aAAKZ,QAAL,CAAca,MAAd,GAAuB,CAAC,KAAKb,QAAL,CAAca,MAAtC;AACA,aAAKf,OAAL,CAAae,MAAb,GAAsB,CAAC,KAAKf,OAAL,CAAae,MAApC;AACH,KArBI;AAsBLH,eAAW,qBAAY;AACnB,YAAIL,QAAQ,IAAZ;AACA,YAAIS,0BAAgBC,YAApB,EAAkC;AAC9B,iBAAKf,QAAL,CAAca,MAAd,GAAuB,KAAvB;AACApB,eAAGuB,WAAH,CAAeC,SAAf,CAAyB,KAAKhB,GAA9B,EAAmC,IAAnC,EAAyC,CAAzC;AACH,SAHD,MAIK;AACD,iBAAKH,OAAL,CAAae,MAAb,GAAsB,KAAtB;AACH;AACD,aAAKf,OAAL,CAAaoB,EAAb,CAAgB,YAAhB,EAA8B,YAAY;AACtCb,kBAAMO,eAAN;AACAE,sCAAgBC,YAAhB,GAA+B,CAACD,0BAAgBC,YAAhD;AACAtB,eAAGuB,WAAH,CAAeG,UAAf,CAA0Bd,MAAMJ,GAAhC,EAAqC,IAArC,EAA2C,CAA3C;AACAmB,iCAAWC,gBAAX,GAA8B,KAA9B;AACAC,uBAAW,YAAY;AACnBF,qCAAWC,gBAAX,GAA8B,IAA9B;AACH,aAFD,EAEE,GAFF;AAGH,SARD;AASA,aAAKrB,QAAL,CAAckB,EAAd,CAAiB,YAAjB,EAA+B,YAAY;AACvCb,kBAAMO,eAAN;AACAE,sCAAgBC,YAAhB,GAA+B,CAACD,0BAAgBC,YAAhD;AACAtB,eAAGuB,WAAH,CAAeO,WAAf,CAA2BlB,MAAMJ,GAAjC,EAAsC,IAAtC,EAA4C,CAA5C;AACAmB,iCAAWC,gBAAX,GAA8B,KAA9B;AACAC,uBAAW,YAAY;AACnBF,qCAAWC,gBAAX,GAA8B,IAA9B;AACH,aAFD,EAEE,GAFF;AAGH,SARD;AASH;AAjDI,CAAT","file":"media.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\panel","sourcesContent":["import gameConfig from '../gameConfig';\nimport GameDataManager from '../gameDataManager';\ncc.Class({\n    extends: cc.Component,\n    properties: {\n        musicOn:cc.Node,\n        musicOff:cc.Node,\n        bgm: cc.AudioClip,\n        isMusicOn:true\n    },\n    // 生命周期\n    onLoad() {\n        var _this = this;\n        cc.loader.load('https://cdn.feilaib.top/img/sounds/bg.mp3', function(err, clip) {\n            _this.bgm = clip;\n            _this.musicInit();\n        });\n    },\n    start() {},\n    //音乐播放按钮切换\n    musicBtnDispaly: function () {\n        this.musicOff.active = !this.musicOff.active;\n        this.musicOn.active = !this.musicOn.active;\n    },\n    musicInit: function () {\n        var _this = this;\n        if (GameDataManager.canSoundPlay) {\n            this.musicOff.active = false;\n            cc.audioEngine.playMusic(this.bgm, true, 1);\n        }\n        else {\n            this.musicOn.active = false;\n        }\n        this.musicOn.on('touchstart', function () {\n            _this.musicBtnDispaly();\n            GameDataManager.canSoundPlay = !GameDataManager.canSoundPlay\n            cc.audioEngine.pauseMusic(_this.bgm, true, 1);\n            gameConfig.isScreemCanTouch = false;\n            setTimeout(function () {\n                gameConfig.isScreemCanTouch = true;\n            },300)\n        });\n        this.musicOff.on('touchstart', function () {\n            _this.musicBtnDispaly();\n            GameDataManager.canSoundPlay = !GameDataManager.canSoundPlay\n            cc.audioEngine.resumeMusic(_this.bgm, true, 1);\n            gameConfig.isScreemCanTouch = false;\n            setTimeout(function () {\n                gameConfig.isScreemCanTouch = true;\n            },300)\n        });\n    }\n});\n"]}