{"version":3,"sources":["..\\..\\..\\..\\assets\\script/assets\\script\\energy.js"],"names":["cc","Class","extends","Component","properties","energy","Node","caliUp","caliDown","energySpeed","onLoad","hideCali","init","game","configInit","height","node","opacity","gameInit","setCali","lengthObj","stage","getLength","downY","Math","floor","min","upY","max","y","showCali","active","update","GameDataManager","toolChoose","isLengthen"],"mappings":";;;;;;AAAA;;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;AAELC,gBAAY;AACRC,gBAAOL,GAAGM,IADF;AAERC,gBAAOP,GAAGM,IAFF;AAGRE,kBAASR,GAAGM,IAHJ;AAIRG,qBAAY;AAJJ,KAFP;AAQLC,UARK,oBAQG;AACJ,aAAKC,QAAL;AACH,KAVI;AAWLC,QAXK,gBAWAC,IAXA,EAWK;AACN,aAAKA,IAAL,GAAYA,IAAZ;AACH,KAbI;AAcLC,cAdK,wBAcO;AACR,aAAKT,MAAL,CAAYU,MAAZ,GAAqB,CAArB;AACA,aAAKN,WAAL,GAAmB,CAAnB;AACA,aAAKO,IAAL,CAAUC,OAAV,GAAoB,GAApB;AACH,KAlBI;AAmBLC,YAnBK,sBAmBK;AACN,aAAKb,MAAL,CAAYU,MAAZ,GAAqB,CAArB;AACA,aAAKN,WAAL,GAAmB,CAAnB;AACA,aAAKO,IAAL,CAAUC,OAAV,GAAoB,GAApB;AACA,aAAKE,OAAL;AACH,KAxBI;;AAyBL;AACAA,WA1BK,qBA0BI;AACL,YAAIC,YAAY,KAAKP,IAAL,CAAUQ,KAAV,CAAgBC,SAAhB,EAAhB;AACA,YAAIC,QAAQC,KAAKC,KAAL,CAAWL,UAAUM,GAAV,GAAc,GAAd,GAAkB,GAA7B,CAAZ;AACA,YAAIC,MAAMH,KAAKC,KAAL,CAAWL,UAAUQ,GAAV,GAAc,GAAd,GAAkB,GAA7B,CAAV;AACA,aAAKrB,MAAL,CAAYsB,CAAZ,GAAgB,CAAC,GAAD,GAAKF,GAArB;AACA,aAAKnB,QAAL,CAAcqB,CAAd,GAAkB,CAAC,GAAD,GAAKN,KAAvB;AACH,KAhCI;AAiCLO,YAjCK,sBAiCK;AACN,aAAKd,IAAL,CAAUe,MAAV,GAAmB,IAAnB;AACH,KAnCI;AAoCLpB,YApCK,sBAoCK;AACN,aAAKK,IAAL,CAAUe,MAAV,GAAmB,KAAnB;AACH,KAtCI;AAuCLC,UAvCK,oBAuCG;AACJ,YAAGC,0BAAgBC,UAAhB,IAA8B,CAAjC,EAAmC;AAC/B,gBAAGD,0BAAgBE,UAAnB,EAA8B;AAC1B,qBAAK9B,MAAL,CAAYU,MAAZ,IAAsB,KAAKN,WAA3B;AACA,oBAAG,KAAKJ,MAAL,CAAYU,MAAZ,IAAsB,GAAtB,IAA6B,KAAKV,MAAL,CAAYU,MAAZ,IAAsB,CAAtD,EAAwD;AACpD,yBAAKN,WAAL,IAAoB,CAAC,CAArB;AACH;AACJ;AACJ;AACJ;AAhDI,CAAT","file":"energy.js","sourceRoot":"..\\..\\..\\..\\assets\\script","sourcesContent":["import GameDataManager from './gameDataManager';\ncc.Class({\n    extends: cc.Component,\n    properties: {\n        energy:cc.Node,\n        caliUp:cc.Node,\n        caliDown:cc.Node,\n        energySpeed:5,\n    },\n    onLoad(){\n        this.hideCali();\n    },\n    init(game){\n        this.game = game;\n    },\n    configInit(){\n        this.energy.height = 0;\n        this.energySpeed = 5;\n        this.node.opacity = 255;\n    },\n    gameInit(){\n        this.energy.height = 0;\n        this.energySpeed = 5;\n        this.node.opacity = 255;\n        this.setCali();\n    },\n    //设置能量条刻度\n    setCali(){\n        var lengthObj = this.game.stage.getLength();\n        var downY = Math.floor(lengthObj.min/600*300);\n        var upY = Math.floor(lengthObj.max/600*300);\n        this.caliUp.y = -147+upY;\n        this.caliDown.y = -147+downY;\n    },\n    showCali(){\n        this.node.active = true;\n    },\n    hideCali(){\n        this.node.active = false;\n    },\n    update(){\n        if(GameDataManager.toolChoose == 2){\n            if(GameDataManager.isLengthen){\n                this.energy.height += this.energySpeed;\n                if(this.energy.height == 300 || this.energy.height == 0){\n                    this.energySpeed *= -1\n                }\n            }\n        }\n    }\n});\n"]}