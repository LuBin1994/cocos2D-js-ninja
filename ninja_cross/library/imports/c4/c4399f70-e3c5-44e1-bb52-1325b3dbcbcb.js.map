{"version":3,"sources":["..\\..\\..\\..\\assets\\script/assets\\script\\energy.js"],"names":["cc","Class","extends","Component","properties","energy","Node","caliUp","caliDown","energySpeed","onLoad","hideCali","init","game","configInit","height","node","opacity","gameInit","setCali","lengthObj","stage","getLength","downY","Math","floor","min","upY","max","y","showCali","active","update","GameDataManager","toolChoose","isLengthen"],"mappings":";;;;;;AAAA;;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;AAELC,gBAAY;AACRC,gBAAOL,GAAGM,IADF;AAERC,gBAAOP,GAAGM,IAFF;AAGRE,kBAASR,GAAGM,IAHJ;AAIRG,qBAAY;AAJJ,KAFP;AAQLC,UARK,oBAQG;AACJ,aAAKC,QAAL;AACH,KAVI;AAWLC,QAXK,gBAWAC,IAXA,EAWK;AACN,aAAKA,IAAL,GAAYA,IAAZ;AACH,KAbI;AAcLC,cAdK,wBAcO;AACR,aAAKT,MAAL,CAAYU,MAAZ,GAAqB,CAArB;AACA,aAAKN,WAAL,GAAmB,CAAnB;AACA,aAAKO,IAAL,CAAUC,OAAV,GAAoB,GAApB;AACH,KAlBI;AAmBLC,YAnBK,sBAmBK;AACN,aAAKb,MAAL,CAAYU,MAAZ,GAAqB,CAArB;AACA,aAAKN,WAAL,GAAmB,CAAnB;AACA,aAAKO,IAAL,CAAUC,OAAV,GAAoB,GAApB;AACA,aAAKE,OAAL;AACH,KAxBI;;AAyBL;AACAA,WA1BK,qBA0BI;AACL,YAAIC,YAAY,KAAKP,IAAL,CAAUQ,KAAV,CAAgBC,SAAhB,EAAhB;AACA,YAAIC,QAAQC,KAAKC,KAAL,CAAWL,UAAUM,GAAV,GAAc,GAAd,GAAkB,GAA7B,CAAZ;AACA,YAAIC,MAAMH,KAAKC,KAAL,CAAWL,UAAUQ,GAAV,GAAc,GAAd,GAAkB,GAA7B,CAAV;AACA,aAAKrB,MAAL,CAAYsB,CAAZ,GAAgB,CAAC,GAAD,GAAKF,GAArB;AACA,aAAKnB,QAAL,CAAcqB,CAAd,GAAkB,CAAC,GAAD,GAAKN,KAAvB;AACH,KAhCI;AAiCLO,YAjCK,sBAiCK;AACN,aAAKd,IAAL,CAAUe,MAAV,GAAmB,IAAnB;AACH,KAnCI;AAoCLpB,YApCK,sBAoCK;AACN,aAAKK,IAAL,CAAUe,MAAV,GAAmB,KAAnB;AACH,KAtCI;AAuCLC,UAvCK,oBAuCG;AACJ,YAAGC,0BAAgBC,UAAhB,IAA8B,CAAjC,EAAmC;AAC/B,gBAAGD,0BAAgBE,UAAnB,EAA8B;AAC1B,qBAAK9B,MAAL,CAAYU,MAAZ,IAAsB,KAAKN,WAA3B;AACA,oBAAG,KAAKJ,MAAL,CAAYU,MAAZ,IAAsB,GAAtB,IAA6B,KAAKV,MAAL,CAAYU,MAAZ,IAAsB,CAAtD,EAAwD;AACpD,yBAAKN,WAAL,IAAoB,CAAC,CAArB;AACH;AACJ;AACJ;AACJ;AAhDI,CAAT","file":"energy.js","sourceRoot":"..\\..\\..\\..\\assets\\script","sourcesContent":["import GameDataManager from './gameDataManager';\r\ncc.Class({\r\n    extends: cc.Component,\r\n    properties: {\r\n        energy:cc.Node,\r\n        caliUp:cc.Node,\r\n        caliDown:cc.Node,\r\n        energySpeed:5,\r\n    },\r\n    onLoad(){\r\n        this.hideCali();\r\n    },\r\n    init(game){\r\n        this.game = game;\r\n    },\r\n    configInit(){\r\n        this.energy.height = 0;\r\n        this.energySpeed = 5;\r\n        this.node.opacity = 255;\r\n    },\r\n    gameInit(){\r\n        this.energy.height = 0;\r\n        this.energySpeed = 5;\r\n        this.node.opacity = 255;\r\n        this.setCali();\r\n    },\r\n    //设置能量条刻度\r\n    setCali(){\r\n        var lengthObj = this.game.stage.getLength();\r\n        var downY = Math.floor(lengthObj.min/600*300);\r\n        var upY = Math.floor(lengthObj.max/600*300);\r\n        this.caliUp.y = -147+upY;\r\n        this.caliDown.y = -147+downY;\r\n    },\r\n    showCali(){\r\n        this.node.active = true;\r\n    },\r\n    hideCali(){\r\n        this.node.active = false;\r\n    },\r\n    update(){\r\n        if(GameDataManager.toolChoose == 2){\r\n            if(GameDataManager.isLengthen){\r\n                this.energy.height += this.energySpeed;\r\n                if(this.energy.height == 300 || this.energy.height == 0){\r\n                    this.energySpeed *= -1\r\n                }\r\n            }\r\n        }\r\n    }\r\n});\r\n"]}