{"version":3,"sources":["GameOver.js"],"names":["cc","Class","extends","Component","properties","playAgainBtn","Node","advBtn","goBackHomeBtn","rankBtn","btnSound","AudioClip","bestScore","Label","nowScore","btnGroup","showOffbtn","showOffText","onLoad","_this","loader","loadRes","err","prefab","node","instantiate","addChild","Util","btnEvent","GameDataManager","everydayGameMax","localStorage","setItem","game","reStartGame","active","hideBannerAdv","createVideoAdv","GameConfig","videoAdv","gameIncrease","GameUITools","loadingScene","rankMax","loadingLayer","auths_Btn","hide","rankIncrease","canResurrectTime","continueGame","hideGameOver","IS_WX","shareCode","wx","getStorageSync","console","log","isBreakRecord","shareAppMessage","title","config","recordShareTitle","imageUrl","recordShareImg","query","request","url","INTER_URL","data","header","method","success","res","status","code","error","passShareTitle","passShareImg","gameLog","init","scoreProcess","score","string","totalScore","setStorageSync","isHideSub","gameScore","postMessage","messageType","MAIN_MENU_NUM","gameId","info","showGameOver","createBannerAdv","gameOverBannerAdv"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;AAELC,gBAAY;AACRC,sBAAcL,GAAGM,IADT;AAERC,gBAAQP,GAAGM,IAFH;AAGRE,uBAAeR,GAAGM,IAHV;AAIRG,iBAAST,GAAGM,IAJJ;AAKRI,kBAAUV,GAAGW,SALL;AAMRC,mBAAWZ,GAAGa,KANN;AAORC,kBAAUd,GAAGa,KAPL;AAQRE,kBAAUf,GAAGM,IARL;AASRU,oBAAYhB,GAAGM,IATP;AAURW,qBAAajB,GAAGM;AAVR,KAFP;AAcLY,UAdK,oBAcI;AAAA;;AACL,YAAIC,QAAQ,IAAZ;AACAnB,WAAGoB,MAAH,CAAUC,OAAV,CAAkB,gBAAlB,EAAoC,UAACC,GAAD,EAAMC,MAAN,EAAiB;AACjD,gBAAI,CAACD,GAAL,EAAU;AACN,oBAAIE,OAAOxB,GAAGyB,WAAH,CAAeF,MAAf,CAAX;AACA,uBAAKC,IAAL,CAAUE,QAAV,CAAmBF,IAAnB;AACH;AACJ,SALD;AAMA;AACAG,uBAAKC,QAAL,CAAc,KAAKvB,YAAnB,EAAiC,KAAKK,QAAtC,EAAgD,YAAY;AACxD,gBAAImB,0BAAgBC,eAAhB,IAAmC,CAAvC,EAA0C;AACtCD,0CAAgBC,eAAhB;AACAC,6BAAaC,OAAb,CAAqB,iBAArB,EAAwCH,0BAAgBC,eAAxD;AACAX,sBAAMc,IAAN,CAAWC,WAAX;AACAf,sBAAMK,IAAN,CAAWW,MAAX,GAAoB,KAApB;AACAhB,sBAAMiB,aAAN;AACH,aAND,MAOK;AACDT,+BAAKU,cAAL,CAAoB,yBAApB,EAA+CC,qBAAWC,QAA1D,EAAoE,YAAY;AAC5EV,8CAAgBC,eAAhB,IAAmCQ,qBAAWE,YAA9C;AACAX,8CAAgBC,eAAhB;AACAC,iCAAaC,OAAb,CAAqB,iBAArB,EAAwCH,0BAAgBC,eAAxD;AACAX,0BAAMc,IAAN,CAAWC,WAAX;AACAf,0BAAMK,IAAN,CAAWW,MAAX,GAAoB,KAApB;AACAhB,0BAAMiB,aAAN;AACH,iBAPD;AAQH;AACJ,SAlBD;AAmBAT,uBAAKC,QAAL,CAAc,KAAKpB,aAAnB,EAAkC,KAAKE,QAAvC,EAAiD,YAAY;AACzD+B,kCAAYC,YAAZ,CAAyB,OAAzB;AACAvB,kBAAMiB,aAAN;AACH,SAHD;AAIA;AACAT,uBAAKC,QAAL,CAAc,KAAKnB,OAAnB,EAA4B,KAAKC,QAAjC,EAA2C,YAAY;AACnD,gBAAImB,0BAAgBc,OAAhB,IAA2B,CAA/B,EAAkC;AAC9Bd,0CAAgBc,OAAhB;AACAZ,6BAAaC,OAAb,CAAqB,SAArB,EAAgCH,0BAAgBc,OAAhD;AACAF,sCAAYG,YAAZ,CAAyB,YAAzB;AACA,oBAAIN,qBAAWO,SAAf,EAA0B;AACtBP,yCAAWO,SAAX,CAAqBC,IAArB;AACH;AACD3B,sBAAMiB,aAAN;AACH,aARD,MASK;AACDT,+BAAKU,cAAL,CAAoB,yBAApB,EAA+CC,qBAAWC,QAA1D,EAAoE,YAAY;AAC5EV,8CAAgBc,OAAhB,IAA2BL,qBAAWS,YAAtC;AACAlB,8CAAgBc,OAAhB;AACAZ,iCAAaC,OAAb,CAAqB,SAArB,EAAgCH,0BAAgBc,OAAhD;AACAF,0CAAYG,YAAZ,CAAyB,YAAzB;AACA,wBAAIN,qBAAWO,SAAf,EAA0B;AACtBP,6CAAWO,SAAX,CAAqBC,IAArB;AACH;AACD3B,0BAAMiB,aAAN;AACH,iBATD;AAUH;AACJ,SAtBD;AAuBAT,uBAAKC,QAAL,CAAc,KAAKrB,MAAnB,EAA2B,KAAKG,QAAhC,EAA0C,YAAY;AAClDiB,2BAAKU,cAAL,CAAoB,yBAApB,EAA+CC,qBAAWC,QAA1D,EAAoE,YAAY;AAC5ED,qCAAWU,gBAAX,IAA+B,CAA/B;AACA7B,sBAAMc,IAAN,CAAWgB,YAAX;AACA9B,sBAAM+B,YAAN;AACH,aAJD;AAKH,SAND;AAOA,YAAIZ,qBAAWa,KAAf,EAAqB;AACjBxB,2BAAKC,QAAL,CAAc,KAAKZ,UAAnB,EAA+B,KAAKN,QAApC,EAA8C,YAAY;AACtD,oBAAI0C,YAAY,eAAeC,GAAGC,cAAH,CAAkB,WAAlB,CAA/B;AACAC,wBAAQC,GAAR,CAAYJ,SAAZ;AACA,oBAAIvB,0BAAgB4B,aAApB,EAAmC;AAC/BF,4BAAQC,GAAR,CAAY,QAAZ;AACAH,uBAAGK,eAAH,CAAmB;AACfC,+BAAOrB,qBAAWsB,MAAX,CAAkBC,gBADV;AAEfC,kCAAUxB,qBAAWsB,MAAX,CAAkBG,cAFb;AAGfC,+BAAOZ;AAHQ,qBAAnB;AAKAC,uBAAGY,OAAH,CAAW;AACPC,6BAAK5B,qBAAW6B,SAAX,GAAuB,YADrB;AAEPC,8BAAM;AACF,qCAAS9B,qBAAWsB,MAAX,CAAkBC,gBADzB;AAEF,qCAASvB,qBAAWsB,MAAX,CAAkBG,cAFzB;AAGF,qCAASV,GAAGC,cAAH,CAAkB,WAAlB;AAHP,yBAFC;AAOPe,gCAAQ;AACJ,4CAAgB,mCADZ;AAEJ,sCAAU,aAAahB,GAAGC,cAAH,CAAkB,WAAlB;AAFnB,yBAPD;AAWPgB,gCAAQ,MAXD;AAYPC,iCAAS,iBAAUC,GAAV,EAAe;AACpBjB,oCAAQC,GAAR,CAAYgB,IAAIJ,IAAhB;AACA,gCAAII,IAAIJ,IAAJ,CAASK,MAAT,IAAmB,CAAvB,EAA0B;AACtBlB,wCAAQC,GAAR,CAAY,UAAZ;AACH,6BAFD,MAGK;AACD,wCAAQgB,IAAIJ,IAAJ,CAASM,IAAjB;AACI,yCAAK,IAAL;AACInB,gDAAQC,GAAR,CAAY,YAAZ;AACA;AAHR;AAKH;AACJ,yBAxBM;AAyBPmB,+BAAO,iBAAY;AACfpB,oCAAQC,GAAR,CAAY,MAAZ;AACH;;AA3BM,qBAAX;AA8BH,iBArCD,MAsCK;AACDD,4BAAQC,GAAR,CAAY,SAAZ;AACAH,uBAAGK,eAAH,CAAmB;AACfC,+BAAOrB,qBAAWsB,MAAX,CAAkBgB,cADV;AAEfd,kCAAUxB,qBAAWsB,MAAX,CAAkBiB,YAFb;AAGfb,+BAAOZ;AAHQ,qBAAnB;AAKAC,uBAAGY,OAAH,CAAW;AACPC,6BAAK5B,qBAAW6B,SAAX,GAAuB,YADrB;AAEPC,8BAAM;AACF,qCAAS9B,qBAAWsB,MAAX,CAAkBgB,cADzB;AAEF,qCAAStC,qBAAWsB,MAAX,CAAkBiB,YAFzB;AAGF,qCAASxB,GAAGC,cAAH,CAAkB,WAAlB;AAHP,yBAFC;AAOPe,gCAAQ;AACJ,4CAAgB,mCADZ;AAEJ,sCAAU,aAAahB,GAAGC,cAAH,CAAkB,WAAlB;AAFnB,yBAPD;AAWPgB,gCAAQ,MAXD;AAYPC,iCAAS,iBAAUC,GAAV,EAAe;AACpBjB,oCAAQC,GAAR,CAAYgB,IAAIJ,IAAhB;AACA,gCAAII,IAAIJ,IAAJ,CAASK,MAAT,IAAmB,CAAvB,EAA0B,CACzB,CADD,MAEK;AACD,wCAAQD,IAAIJ,IAAJ,CAASM,IAAjB;AACI,yCAAK,IAAL;AACI/C,uDAAKmD,OAAL,CAAa,YAAb;AACA;AAHR;AAKH;AACJ,yBAvBM;AAwBPH,+BAAO,iBAAY;AACfpB,oCAAQC,GAAR,CAAY,MAAZ;AACH;;AA1BM,qBAAX;AA6BH;AACJ,aA9ED;AA+EAxD,eAAGoB,MAAH,CAAUC,OAAV,CAAkB,iBAAlB,EAAqC,UAACC,GAAD,EAAMC,MAAN,EAAiB;AAClD,oBAAI,CAACD,GAAL,EAAU;AACN,wBAAIE,OAAOxB,GAAGyB,WAAH,CAAeF,MAAf,CAAX;AACAJ,0BAAMK,IAAN,CAAWE,QAAX,CAAoBF,IAApB;AACH;AACJ,aALD;AAMH;AACJ,KApKI;;AAqKLuD,UAAM,cAAU9C,IAAV,EAAgB;AAClB,aAAKA,IAAL,GAAYA,IAAZ;AACH,KAvKI;AAwKL;AACA+C,kBAAc,wBAAY;AACtB,YAAI1C,qBAAWa,KAAf,EAAsB;AAClB;AACA,gBAAI8B,QAAQ5B,GAAGC,cAAH,CAAkB,WAAlB,CAAZ;AACA,iBAAKxC,QAAL,CAAcoE,MAAd,GAAuB,WAAWrD,0BAAgBsD,UAAlD;AACA,gBAAItD,0BAAgBsD,UAAhB,GAA6BF,KAAjC,EAAwC;AACpC,qBAAKrE,SAAL,CAAesE,MAAf,GAAwB,WAAWD,KAAnC;AACA5B,mBAAG+B,cAAH,CAAkB,WAAlB,EAA+BvD,0BAAgBsD,UAA/C;AACA,qBAAKlE,WAAL,CAAiBkB,MAAjB,GAA0B,IAA1B;AACAN,0CAAgBwD,SAAhB,GAA4B,IAA5B;AACAxD,0CAAgB4B,aAAhB,GAAgC,IAAhC;AACH,aAND,MAOK;AACD,qBAAKxC,WAAL,CAAiBkB,MAAjB,GAA0B,KAA1B;AACAN,0CAAgB4B,aAAhB,GAAgC,KAAhC;AACA,qBAAK7C,SAAL,CAAesE,MAAf,GAAwB,WAAWD,KAAnC;AACApD,0CAAgBwD,SAAhB,GAA4B,KAA5B;AACH;AACD;AACA,gBAAIC,YAAYzD,0BAAgBsD,UAAhC;AACA9B,eAAGkC,WAAH,CAAe,EAAEC,aAAa,CAAf,EAAkBP,OAAOK,SAAzB,EAAoCG,eAAenD,qBAAWmD,aAA9D,EAAf;AACApC,eAAGkC,WAAH,CAAe,EAAEC,aAAa,CAAf,EAAkBC,eAAenD,qBAAWmD,aAA5C,EAAf;AACA,gBAAI5D,0BAAgBwD,SAApB,EAA+B;AAC3BhC,mBAAGkC,WAAH,CAAe,EAAEC,aAAa,CAAf,EAAf;AACH;AACD;AACAjC,oBAAQC,GAAR,CAAY,aAAZ,EAA2B3B,0BAAgB6D,MAA3C;AACArC,eAAGY,OAAH,CAAW;AACPC,qBAAK5B,qBAAW6B,SAAX,GAAuB,WADrB;AAEPC,sBAAM;AACF,8BAAUvC,0BAAgB6D,MADxB;AAEF,6BAAS7D,0BAAgBsD;AAFvB,iBAFC;AAMPd,wBAAQ;AACJ,oCAAgB,mCADZ;AAEJ,8BAAU,aAAahB,GAAGC,cAAH,CAAkB,WAAlB;AAFnB,iBAND;AAUPgB,wBAAQ,MAVD;AAWPC,yBAAS,iBAAUC,GAAV,EAAe;AACpBjB,4BAAQC,GAAR,CAAY,cAAZ,EAA4BgB,IAAIJ,IAAhC;AACA,wBAAII,IAAIJ,IAAJ,CAASK,MAAT,IAAmB,CAAvB,EAA0B,CAAG,CAA7B,MACK;AACDlB,gCAAQC,GAAR,CAAYgB,IAAIJ,IAAJ,CAASuB,IAArB;AACH;AACJ,iBAjBM;AAkBPhB,uBAAO,iBAAY;AACfhD,mCAAKmD,OAAL,CAAa,kBAAb;AACH;AApBM,aAAX;AAsBH;AACJ,KA3NI;AA4NLc,gBA5NK,0BA4NU;AACX,aAAKpE,IAAL,CAAUW,MAAV,GAAmB,IAAnB;AACA,YAAIG,qBAAWa,KAAf,EAAsB;AAClB;AACAxB,2BAAKkE,eAAL,CAAqBlE,eAAKkE,eAA1B;AACH;AACD,YAAGvD,qBAAWU,gBAAX,IAA+B,CAAlC,EAAoC;AAChC,iBAAKzC,MAAL,CAAY4B,MAAZ,GAAqB,KAArB;AACH,SAFD,MAGI;AACA,iBAAK5B,MAAL,CAAY4B,MAAZ,GAAqB,IAArB;AACH;AACJ,KAxOI;AAyOLe,gBAzOK,0BAyOS;AACV,aAAK1B,IAAL,CAAUW,MAAV,GAAmB,KAAnB;AACA,aAAKC,aAAL;AACH,KA5OI;AA6OLA,iBA7OK,2BA6OW;AACZ,YAAIE,qBAAWa,KAAf,EAAsB;AAClBb,iCAAWwD,iBAAX,CAA6BhD,IAA7B;AACH;AACJ;AAjPI,CAAT","file":"GameOver.js","sourceRoot":"..\\..\\..\\..\\assets\\script","sourcesContent":["import Util from './utils/util';\r\nimport GameUITools from './utils/GameUITools';\r\nimport GameConfig from './gameConfig';\r\nimport GameDataManager from './GameDataManager';\r\ncc.Class({\r\n    extends: cc.Component,\r\n    properties: {\r\n        playAgainBtn: cc.Node,\r\n        advBtn: cc.Node,\r\n        goBackHomeBtn: cc.Node,\r\n        rankBtn: cc.Node,\r\n        btnSound: cc.AudioClip,\r\n        bestScore: cc.Label,\r\n        nowScore: cc.Label,\r\n        btnGroup: cc.Node,\r\n        showOffbtn: cc.Node,\r\n        showOffText: cc.Node\r\n    },\r\n    onLoad() {\r\n        var _this = this;\r\n        cc.loader.loadRes(\"panel/moreGame\", (err, prefab) => {\r\n            if (!err) {\r\n                let node = cc.instantiate(prefab);\r\n                this.node.addChild(node);\r\n            }\r\n        });\r\n        //btn绑定事件\r\n        Util.btnEvent(this.playAgainBtn, this.btnSound, function () {\r\n            if (GameDataManager.everydayGameMax != 0) {\r\n                GameDataManager.everydayGameMax--;\r\n                localStorage.setItem('everydayGameMax', GameDataManager.everydayGameMax);\r\n                _this.game.reStartGame();\r\n                _this.node.active = false\r\n                _this.hideBannerAdv();\r\n            }\r\n            else {\r\n                Util.createVideoAdv('adunit-2a1eec952b1c6e4c', GameConfig.videoAdv, function () {\r\n                    GameDataManager.everydayGameMax += GameConfig.gameIncrease;\r\n                    GameDataManager.everydayGameMax--;\r\n                    localStorage.setItem('everydayGameMax', GameDataManager.everydayGameMax);\r\n                    _this.game.reStartGame();\r\n                    _this.node.active = false\r\n                    _this.hideBannerAdv();\r\n                })\r\n            }\r\n        });\r\n        Util.btnEvent(this.goBackHomeBtn, this.btnSound, function () {\r\n            GameUITools.loadingScene('start');\r\n            _this.hideBannerAdv();\r\n        });\r\n        //查看排名\r\n        Util.btnEvent(this.rankBtn, this.btnSound, function () {\r\n            if (GameDataManager.rankMax != 0) {\r\n                GameDataManager.rankMax--;\r\n                localStorage.setItem('rankMax', GameDataManager.rankMax);\r\n                GameUITools.loadingLayer(\"panel/rank\");\r\n                if (GameConfig.auths_Btn) {\r\n                    GameConfig.auths_Btn.hide();\r\n                }\r\n                _this.hideBannerAdv();\r\n            }\r\n            else {\r\n                Util.createVideoAdv('adunit-9429ed2ecefa9198', GameConfig.videoAdv, function () {\r\n                    GameDataManager.rankMax += GameConfig.rankIncrease;\r\n                    GameDataManager.rankMax--;\r\n                    localStorage.setItem('rankMax', GameDataManager.rankMax)\r\n                    GameUITools.loadingLayer(\"panel/rank\");\r\n                    if (GameConfig.auths_Btn) {\r\n                        GameConfig.auths_Btn.hide();\r\n                    }\r\n                    _this.hideBannerAdv();\r\n                })\r\n            }\r\n        });\r\n        Util.btnEvent(this.advBtn, this.btnSound, function () {\r\n            Util.createVideoAdv('adunit-a319cf0689893757', GameConfig.videoAdv, function () {\r\n                GameConfig.canResurrectTime -= 1;\r\n                _this.game.continueGame();\r\n                _this.hideGameOver();\r\n            })\r\n        });\r\n        if (GameConfig.IS_WX){\r\n            Util.btnEvent(this.showOffbtn, this.btnSound, function () {\r\n                var shareCode = \"shareCode=\" + wx.getStorageSync('shareCode')\r\n                console.log(shareCode)\r\n                if (GameDataManager.isBreakRecord) {\r\n                    console.log(\"破纪录的分享\")\r\n                    wx.shareAppMessage({\r\n                        title: GameConfig.config.recordShareTitle,\r\n                        imageUrl: GameConfig.config.recordShareImg,\r\n                        query: shareCode\r\n                    });\r\n                    wx.request({\r\n                        url: GameConfig.INTER_URL + \"game/share\",\r\n                        data: {\r\n                            'title': GameConfig.config.recordShareTitle,\r\n                            'image': GameConfig.config.recordShareImg,\r\n                            'query': wx.getStorageSync('shareCode')\r\n                        },\r\n                        header: {\r\n                            'content-type': 'application/x-www-form-urlencoded',\r\n                            'Cookie': \"SESSION=\" + wx.getStorageSync('sessionId')\r\n                        },\r\n                        method: \"POST\",\r\n                        success: function (res) {\r\n                            console.log(res.data)\r\n                            if (res.data.status == 1) {\r\n                                console.log(\"游戏分享保存成功\")\r\n                            }\r\n                            else {\r\n                                switch (res.data.code) {\r\n                                    case 1005:\r\n                                        console.log(\"游戏分享保存参数错误\")\r\n                                        break;\r\n                                }\r\n                            }\r\n                        },\r\n                        error: function () {\r\n                            console.log(\"连接错误\")\r\n                        }\r\n\r\n                    })\r\n                }\r\n                else {\r\n                    console.log(\"未破纪录的分享\")\r\n                    wx.shareAppMessage({\r\n                        title: GameConfig.config.passShareTitle,\r\n                        imageUrl: GameConfig.config.passShareImg,\r\n                        query: shareCode\r\n                    });\r\n                    wx.request({\r\n                        url: GameConfig.INTER_URL + \"game/share\",\r\n                        data: {\r\n                            'title': GameConfig.config.passShareTitle,\r\n                            'image': GameConfig.config.passShareImg,\r\n                            'query': wx.getStorageSync('shareCode')\r\n                        },\r\n                        header: {\r\n                            'content-type': 'application/x-www-form-urlencoded',\r\n                            'Cookie': \"SESSION=\" + wx.getStorageSync('sessionId')\r\n                        },\r\n                        method: \"POST\",\r\n                        success: function (res) {\r\n                            console.log(res.data)\r\n                            if (res.data.status == 1) {\r\n                            }\r\n                            else {\r\n                                switch (res.data.code) {\r\n                                    case 1005:\r\n                                        Util.gameLog(\"游戏分享保存参数错误\")\r\n                                        break;\r\n                                }\r\n                            }\r\n                        },\r\n                        error: function () {\r\n                            console.log(\"连接错误\")\r\n                        }\r\n\r\n                    });\r\n                }\r\n            });\r\n            cc.loader.loadRes(\"panel/subCanvas\", (err, prefab) => {\r\n                if (!err) {\r\n                    let node = cc.instantiate(prefab);\r\n                    _this.node.addChild(node);\r\n                }\r\n            });\r\n        }\r\n    },\r\n    init: function (game) {\r\n        this.game = game;\r\n    },\r\n    //游戏分数处理\r\n    scoreProcess: function () {\r\n        if (GameConfig.IS_WX) {\r\n            //分数记录\r\n            var score = wx.getStorageSync('gameScore');\r\n            this.nowScore.string = \"本次分值: \" + GameDataManager.totalScore;\r\n            if (GameDataManager.totalScore > score) {\r\n                this.bestScore.string = \"历史最佳: \" + score;\r\n                wx.setStorageSync('gameScore', GameDataManager.totalScore);\r\n                this.showOffText.active = true;\r\n                GameDataManager.isHideSub = true;\r\n                GameDataManager.isBreakRecord = true;\r\n            }\r\n            else {\r\n                this.showOffText.active = false;\r\n                GameDataManager.isBreakRecord = false;\r\n                this.bestScore.string = \"历史最佳: \" + score;\r\n                GameDataManager.isHideSub = false;\r\n            }\r\n            //微信存储分数\r\n            var gameScore = GameDataManager.totalScore;\r\n            wx.postMessage({ messageType: 1, score: gameScore, MAIN_MENU_NUM: GameConfig.MAIN_MENU_NUM, });\r\n            wx.postMessage({ messageType: 3, MAIN_MENU_NUM: GameConfig.MAIN_MENU_NUM, });\r\n            if (GameDataManager.isHideSub) {\r\n                wx.postMessage({ messageType: 5 });\r\n            }\r\n            //记录游戏数据\r\n            console.log(\"将要传回的gameID\", GameDataManager.gameId)\r\n            wx.request({\r\n                url: GameConfig.INTER_URL + \"game/over\",\r\n                data: {\r\n                    'gameId': GameDataManager.gameId,\r\n                    'score': GameDataManager.totalScore\r\n                },\r\n                header: {\r\n                    'content-type': 'application/x-www-form-urlencoded',\r\n                    'Cookie': \"SESSION=\" + wx.getStorageSync('sessionId')\r\n                },\r\n                method: \"POST\",\r\n                success: function (res) {\r\n                    console.log('游戏数据记录接口返回值：', res.data)\r\n                    if (res.data.status == 1) { }\r\n                    else {\r\n                        console.log(res.data.info)\r\n                    }\r\n                },\r\n                error: function () {\r\n                    Util.gameLog(\"/game/over接口调用失败\")\r\n                }\r\n            })\r\n        }\r\n    },\r\n    showGameOver() {\r\n        this.node.active = true;\r\n        if (GameConfig.IS_WX) {\r\n            //banner广告\r\n            Util.createBannerAdv(Util.createBannerAdv);\r\n        }\r\n        if(GameConfig.canResurrectTime == 0){\r\n            this.advBtn.active = false;\r\n        }\r\n        else{\r\n            this.advBtn.active = true;\r\n        }\r\n    },\r\n    hideGameOver(){\r\n        this.node.active = false;\r\n        this.hideBannerAdv();\r\n    },\r\n    hideBannerAdv() {\r\n        if (GameConfig.IS_WX) {\r\n            GameConfig.gameOverBannerAdv.hide();\r\n        }\r\n    }\r\n});\r\n"]}