{"version":3,"sources":["media.js"],"names":["cc","Class","extends","Component","properties","musicOn","Node","musicOff","bgm","AudioClip","isMusicOn","onLoad","_this","loader","load","err","clip","musicInit","start","musicBtnDispaly","active","GameDataManager","canSoundPlay","audioEngine","playMusic","on","pauseMusic","GameConfig","isScreemCanTouch","setTimeout","resumeMusic"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;AAELC,gBAAY;AACRC,iBAAQL,GAAGM,IADH;AAERC,kBAASP,GAAGM,IAFJ;AAGRE,aAAKR,GAAGS,SAHA;AAIRC,mBAAU;AAJF,KAFP;AAQL;AACAC,UATK,oBASI;AACL,YAAIC,QAAQ,IAAZ;AACAZ,WAAGa,MAAH,CAAUC,IAAV,CAAe,2CAAf,EAA2D,UAASC,GAAT,EAAcC,IAAd,EAAmB;AAC1EJ,kBAAMJ,GAAN,GAAYQ,IAAZ;AACAJ,kBAAMK,SAAN;AACH,SAHD;AAIH,KAfI;AAgBLC,SAhBK,mBAgBG,CAAE,CAhBL;;AAiBLC,qBAAiB,2BAAY;AACzB,aAAKZ,QAAL,CAAca,MAAd,GAAuB,CAAC,KAAKb,QAAL,CAAca,MAAtC;AACA,aAAKf,OAAL,CAAae,MAAb,GAAsB,CAAC,KAAKf,OAAL,CAAae,MAApC;AACH,KApBI;AAqBLH,eAAW,qBAAW;AAClB,YAAIL,QAAQ,IAAZ;AACA,YAAIS,0BAAgBC,YAApB,EAAkC;AAC9B,iBAAKf,QAAL,CAAca,MAAd,GAAuB,KAAvB;AACApB,eAAGuB,WAAH,CAAeC,SAAf,CAAyB,KAAKhB,GAA9B,EAAmC,IAAnC,EAAyC,CAAzC;AACH,SAHD,MAIK;AACD,iBAAKH,OAAL,CAAae,MAAb,GAAsB,KAAtB;AACH;AACD,aAAKf,OAAL,CAAaoB,EAAb,CAAgB,YAAhB,EAA8B,YAAY;AACtCb,kBAAMO,eAAN;AACAE,sCAAgBC,YAAhB,GAA+B,CAACD,0BAAgBC,YAAhD;AACAtB,eAAGuB,WAAH,CAAeG,UAAf,CAA0Bd,MAAMJ,GAAhC,EAAqC,IAArC,EAA2C,CAA3C;AACAmB,iCAAWC,gBAAX,GAA8B,KAA9B;AACAC,uBAAW,YAAW;AAClBF,qCAAWC,gBAAX,GAA8B,IAA9B;AACH,aAFD,EAEE,GAFF;AAGH,SARD;AASA,aAAKrB,QAAL,CAAckB,EAAd,CAAiB,YAAjB,EAA+B,YAAY;AACvCb,kBAAMO,eAAN;AACAE,sCAAgBC,YAAhB,GAA+B,CAACD,0BAAgBC,YAAhD;AACAtB,eAAGuB,WAAH,CAAeO,WAAf,CAA2BlB,MAAMJ,GAAjC,EAAsC,IAAtC,EAA4C,CAA5C;AACAmB,iCAAWC,gBAAX,GAA8B,KAA9B;AACAC,uBAAW,YAAY;AACnBF,qCAAWC,gBAAX,GAA8B,IAA9B;AACH,aAFD,EAEE,GAFF;AAGH,SARD;AASH;AAhDI,CAAT","file":"media.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\panel","sourcesContent":["import GameConfig from '../gameConfig';\r\nimport GameDataManager from '../gameDataManager';\r\ncc.Class({\r\n    extends: cc.Component,\r\n    properties: {\r\n        musicOn:cc.Node,\r\n        musicOff:cc.Node,\r\n        bgm: cc.AudioClip,\r\n        isMusicOn:true\r\n    },\r\n    // 生命周期\r\n    onLoad() {\r\n        var _this = this;\r\n        cc.loader.load('https://cdn.feilaib.top/img/sounds/bg.mp3',function(err, clip){\r\n            _this.bgm = clip;\r\n            _this.musicInit();\r\n        });\r\n    },\r\n    start() {},\r\n    musicBtnDispaly: function () {\r\n        this.musicOff.active = !this.musicOff.active;\r\n        this.musicOn.active = !this.musicOn.active;\r\n    },\r\n    musicInit: function (){\r\n        var _this = this;\r\n        if (GameDataManager.canSoundPlay) {\r\n            this.musicOff.active = false;\r\n            cc.audioEngine.playMusic(this.bgm, true, 1);\r\n        }\r\n        else {\r\n            this.musicOn.active = false;\r\n        }\r\n        this.musicOn.on('touchstart', function () {\r\n            _this.musicBtnDispaly();\r\n            GameDataManager.canSoundPlay = !GameDataManager.canSoundPlay\r\n            cc.audioEngine.pauseMusic(_this.bgm, true, 1);\r\n            GameConfig.isScreemCanTouch = false;\r\n            setTimeout(function (){\r\n                GameConfig.isScreemCanTouch = true;\r\n            },300)\r\n        });\r\n        this.musicOff.on('touchstart', function () {\r\n            _this.musicBtnDispaly();\r\n            GameDataManager.canSoundPlay = !GameDataManager.canSoundPlay\r\n            cc.audioEngine.resumeMusic(_this.bgm, true, 1);\r\n            GameConfig.isScreemCanTouch = false;\r\n            setTimeout(function () {\r\n                GameConfig.isScreemCanTouch = true;\r\n            },300)\r\n        });\r\n    }\r\n});\r\n"]}