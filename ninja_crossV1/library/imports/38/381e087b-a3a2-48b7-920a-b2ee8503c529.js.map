{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\script\\panel/assets\\script\\panel\\modeChoose.js"],"names":["cc","Class","extends","Component","properties","stickMode","Node","bridgeMode","jumpMode","modeChooseShow","btnSound","default","type","AudioClip","onLoad","init","showChoose","_this","modeEvent","GameDataManager","toolChoose","switchModelMax","localStorage","setItem","i","active","node","callbacks","Util","modeBtnEvent","getItem","GameUITools","loadingScene","unLoadingLayer"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;AAELC,gBAAY;AACRC,mBAAUL,GAAGM,IADL;AAERC,oBAAWP,GAAGM,IAFN;AAGRE,kBAASR,GAAGM,IAHJ;AAIRG,wBAAe,CAACT,GAAGM,IAAJ,CAJP;AAKRI,kBAAS;AACLC,qBAAS,IADJ;AAELC,kBAAMZ,GAAGa;AAFJ;AALD,KAFP;AAYLC,UAZK,oBAYI;AACL,aAAKC,IAAL;AACA,aAAKC,UAAL;AACH,KAfI;AAgBLD,QAhBK,kBAgBC;AACF,YAAIE,QAAQ,IAAZ;AACA,aAAKC,SAAL,CAAe,KAAKb,SAApB,EAA8B,KAAKK,QAAnC,EAA4C,YAAY;AACpDS,sCAAgBC,UAAhB,GAA6B,CAA7B;AACAD,sCAAgBE,cAAhB;AACAC,yBAAaC,OAAb,CAAqB,gBAArB,EAAsCJ,0BAAgBE,cAAtD;AACH,SAJD;AAKA,aAAKH,SAAL,CAAe,KAAKX,UAApB,EAA+B,KAAKG,QAApC,EAA6C,YAAY;AACrDS,sCAAgBC,UAAhB,GAA6B,CAA7B;AACAD,sCAAgBE,cAAhB;AACAC,yBAAaC,OAAb,CAAqB,gBAArB,EAAsCJ,0BAAgBE,cAAtD;AACH,SAJD;AAKA,aAAKH,SAAL,CAAe,KAAKV,QAApB,EAA6B,KAAKE,QAAlC,EAA2C,YAAY;AACnDS,sCAAgBC,UAAhB,GAA6B,CAA7B;AACAD,sCAAgBE,cAAhB;AACAC,yBAAaC,OAAb,CAAqB,gBAArB,EAAsCJ,0BAAgBE,cAAtD;AACH,SAJD;AAKH,KAjCI;AAkCLL,cAlCK,wBAkCO;AACR,aAAI,IAAIQ,IAAE,CAAV,EAAYA,IAAE,CAAd,EAAgBA,GAAhB,EAAoB;AAChB,iBAAKf,cAAL,CAAoBe,CAApB,EAAuBC,MAAvB,GAAgC,KAAhC;AACH;AACD,aAAKhB,cAAL,CAAoBU,0BAAgBC,UAApC,EAAgDK,MAAhD,GAAyD,IAAzD;AACH,KAvCI;AAwCLP,aAxCK,qBAwCKQ,IAxCL,EAwCUhB,QAxCV,EAwCmBiB,SAxCnB,EAwC6B;AAC9B,YAAIV,QAAQ,IAAZ;AACAW,uBAAKC,YAAL,CAAkBH,IAAlB,EAAuBhB,QAAvB,EAAgC,YAAU;AACtCO,kBAAMD,UAAN;AACA,gBAAGM,aAAaQ,OAAb,CAAqB,WAArB,CAAH,EAAqC;AACjCC,sCAAYC,YAAZ,CAAyB,MAAzB;AACH,aAFD,MAGI;AACAD,sCAAYE,cAAZ,CAA2BhB,MAAMS,IAAjC;AACAJ,6BAAaC,OAAb,CAAqB,WAArB,EAAiC,IAAjC;AACH;AACDI,yBAAaA,WAAb;AACH,SAVD;AAWH;AArDI,CAAT","file":"modeChoose.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\panel","sourcesContent":["import Util from '../utils/util';\r\nimport GameUITools from '../utils/GameUITools';\r\nimport GameDataManager from '../gameDataManager';\r\ncc.Class({\r\n    extends: cc.Component,\r\n    properties: {\r\n        stickMode:cc.Node,\r\n        bridgeMode:cc.Node,\r\n        jumpMode:cc.Node,\r\n        modeChooseShow:[cc.Node],\r\n        btnSound:{\r\n            default: null,\r\n            type: cc.AudioClip\r\n        }\r\n    },\r\n    onLoad (){\r\n        this.init();\r\n        this.showChoose();\r\n    },\r\n    init(){\r\n        var _this = this;\r\n        this.modeEvent(this.stickMode,this.btnSound,function () {\r\n            GameDataManager.toolChoose = 0;\r\n            GameDataManager.switchModelMax --;\r\n            localStorage.setItem('switchModelMax',GameDataManager.switchModelMax); \r\n        })\r\n        this.modeEvent(this.bridgeMode,this.btnSound,function () {\r\n            GameDataManager.toolChoose = 1;\r\n            GameDataManager.switchModelMax --;\r\n            localStorage.setItem('switchModelMax',GameDataManager.switchModelMax); \r\n        })\r\n        this.modeEvent(this.jumpMode,this.btnSound,function () {\r\n            GameDataManager.toolChoose = 2;\r\n            GameDataManager.switchModelMax --;\r\n            localStorage.setItem('switchModelMax',GameDataManager.switchModelMax); \r\n        })\r\n    },\r\n    showChoose(){\r\n        for(var i=0;i<3;i++){\r\n            this.modeChooseShow[i].active = false\r\n        }\r\n        this.modeChooseShow[GameDataManager.toolChoose].active = true\r\n    },\r\n    modeEvent(node,btnSound,callbacks){\r\n        var _this = this;\r\n        Util.modeBtnEvent(node,btnSound,function(){\r\n            _this.showChoose();\r\n            if(localStorage.getItem('modeGuide')){\r\n                GameUITools.loadingScene(\"game\");\r\n            }\r\n            else{\r\n                GameUITools.unLoadingLayer(_this.node);\r\n                localStorage.setItem('modeGuide',true)\r\n            }\r\n            callbacks && callbacks()\r\n        });\r\n    }\r\n});\r\n"]}