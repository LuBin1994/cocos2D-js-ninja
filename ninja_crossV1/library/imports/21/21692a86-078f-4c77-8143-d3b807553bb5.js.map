{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\script\\utils/assets\\script\\utils\\util.js"],"names":["Util","btnEvent","NODE","btnSound","CALLBACKS","on","setScale","GameDataManager","canSoundPlay","cc","audioEngine","playEffect","modeBtnEvent","gameStartDataInit","totalScore","isMove","isSuccess","canDrop","move","isAnimate","isLengthen","isStartLengthen","isGameOver","isHideSub","GameConfig","canResurrectTime","gameContinueDataInit","randomNum","multiple","Math","floor","random","setGameDifficulty","num","MaxMultiProbability","sharkJumpDurTime","gameLog","error","str","wx","request","url","LOG_URL","data","env","systemInfo","system","brand","model","pixelRatio","screenWidth","screenHeight","version","platform","sdkVersion","benchmarkLevel","header","getStorageSync","method","seccuss","res","status","console","log","info","culculateScore","node","toolLength","distance","scoreInterval","parseInt","name","replace","centerDistance","abs","width","nextScore","addScoreGrade","createVideoAdv","adId","target","func","createRewardedVideoAd","adUnitId","onLoad","onError","err","offClose","onClose","isEnded","undefined","show","catch","load","then","createBannerAdv","gameOverBannerAdv","destroy","createBannerAd","style","left","top","height","getDate","date","Date","toLocaleDateString"],"mappings":"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","file":"util.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\utils","sourcesContent":["import GameDataManager from '../gameDataManager';\r\nimport GameConfig from '../gameConfig'\r\nvar Util = {\r\n    /**\r\n     * 普通按钮触摸效果\r\n     * @param NODE 按钮节点\r\n     * @param btnSound 按钮音效\r\n     * @param CALLBACKS touchend回调函数\r\n     */\r\n    btnEvent(NODE,btnSound,CALLBACKS){\r\n        NODE.on('touchstart',function(){\r\n            NODE.setScale(0.8);\r\n            if(GameDataManager.canSoundPlay){\r\n                cc.audioEngine.playEffect(btnSound,false,1);\r\n            }\r\n        });\r\n        NODE.on('touchend',function(){\r\n            NODE.setScale(1);\r\n            CALLBACKS && CALLBACKS();\r\n        });\r\n        NODE.on('touchcancel',function () {\r\n            NODE.setScale(1);\r\n            CALLBACKS && CALLBACKS();\r\n        })\r\n    },\r\n    /**\r\n     * 模式选择按钮触摸效果\r\n     * @param NODE 按钮节点\r\n     * @param btnSound 按钮音效\r\n     * @param CALLBACKS touchend回调函数\r\n     */\r\n    modeBtnEvent(NODE,btnSound,CALLBACKS){\r\n        NODE.on('touchstart',function(){\r\n            if(GameDataManager.canSoundPlay){\r\n                cc.audioEngine.playEffect(btnSound,false,1);\r\n            }\r\n        });\r\n        NODE.on('touchend',function(){\r\n            CALLBACKS && CALLBACKS();\r\n        });\r\n    },\r\n    /**\r\n     * 游戏开始或重开数据初始化\r\n     */\r\n    gameStartDataInit(){\r\n        GameDataManager.totalScore = 0;\r\n        GameDataManager.isMove = false;\r\n        GameDataManager.isSuccess = false;\r\n        GameDataManager.canDrop = false;\r\n        GameDataManager.move = 0;\r\n        GameDataManager.isAnimate = false;\r\n        GameDataManager.isLengthen = false;\r\n        GameDataManager.isStartLengthen = false;\r\n        GameDataManager.isGameOver = false;\r\n        GameDataManager.isHideSub = false;\r\n        GameConfig.canResurrectTime = 1;\r\n    },\r\n    /**\r\n     * 本局游戏继续数据初始化\r\n     */\r\n    gameContinueDataInit(){\r\n        GameDataManager.isMove = false;\r\n        GameDataManager.isSuccess = false;\r\n        GameDataManager.canDrop = false;\r\n        GameDataManager.move = 0;\r\n        GameDataManager.isAnimate = false;\r\n        GameDataManager.isLengthen = false;\r\n        GameDataManager.isStartLengthen = false;\r\n        GameDataManager.isGameOver = false;\r\n        GameDataManager.isHideSub = false;\r\n    },\r\n    /**\r\n     * 返回随机数，范围 0~multiple的整数\r\n     * @param multiple 随机数上限\r\n     */\r\n    randomNum(multiple){\r\n        return Math.floor(Math.random()*multiple);\r\n    },\r\n    /**\r\n     * 游戏难度设置\r\n     * @param num 游戏难度等级\r\n     */\r\n    setGameDifficulty(num){\r\n        GameConfig.MaxMultiProbability = 0.13+0.7*num;\r\n        GameConfig.sharkJumpDurTime = 40-3*num;\r\n    },\r\n    /**\r\n     * 游戏日志\r\n     * @param error 内容\r\n     */\r\n    gameLog(error){\r\n        var str = error\r\n        wx.request({\r\n            url:GameConfig.LOG_URL+'submit',\r\n            data:{\r\n                'code':2,\r\n                'env':GameConfig.env,\r\n                'content':str,\r\n                'system':GameConfig.systemInfo.system,\r\n                'brand':GameConfig.systemInfo.brand,\r\n                'model':GameConfig.systemInfo.model,\r\n                'pixelRatio':GameConfig.systemInfo.pixelRatio,\r\n                'screenWidth':GameConfig.systemInfo.screenWidth,\r\n                'screenHeight':GameConfig.systemInfo.screenHeight,\r\n                'version':GameConfig.systemInfo.version,\r\n                'platform':GameConfig.systemInfo.platform,\r\n                'sdkVersion':GameConfig.systemInfo.sdkVersion,\r\n                'benchmarkLevel':GameConfig.systemInfo.benchmarkLevel,\r\n            },\r\n            header: {\r\n                'content-type': 'application/x-www-form-urlencoded',\r\n                'sessionId':'SESSION='+wx.getStorageSync('sessionId')\r\n            },\r\n            method:\"POST\",\r\n            seccuss(res){\r\n                if(res.data.status){\r\n                    console.log('日志提交成功')\r\n                }\r\n                else{\r\n                  console.log(res.data.info)\r\n              }\r\n            }\r\n        })\r\n    },\r\n    /**\r\n     * 得分计算\r\n     * @param toolLength 道具长度\r\n     * @param distance 站桩距离\r\n     */\r\n    culculateScore(node,toolLength,distance){\r\n        var scoreInterval; //得分区间\r\n        var num = parseInt(node.name.replace(/[^0-9]/ig, \"\"));\r\n        var centerDistance = Math.floor(Math.abs(toolLength-( distance + node.width/2))); //道具顶点与下个站桩中心的距离\r\n        if(num <= 3){\r\n            scoreInterval = Math.floor(node.width/9);\r\n            if(0 <= centerDistance && centerDistance <= 0.5*scoreInterval){\r\n                GameDataManager.nextScore = 5;\r\n                GameDataManager.addScoreGrade = 3;\r\n            }\r\n            else if(0.5*scoreInterval < centerDistance && centerDistance <= 1.5*scoreInterval){\r\n                GameDataManager.nextScore = 4;\r\n                GameDataManager.addScoreGrade = 2;\r\n            }\r\n            else if(1.5*scoreInterval < centerDistance && centerDistance <= 2.5*scoreInterval){\r\n                GameDataManager.nextScore = 3;\r\n                GameDataManager.addScoreGrade = 2;\r\n            }\r\n            else if(2.5*scoreInterval < centerDistance && centerDistance <= 3.5*scoreInterval){\r\n                GameDataManager.nextScore = 2;\r\n                GameDataManager.addScoreGrade = 1;\r\n            }\r\n            else if(3.5*scoreInterval < centerDistance && centerDistance <= 4.5*scoreInterval){\r\n                GameDataManager.nextScore = 1;\r\n                GameDataManager.addScoreGrade = 1;\r\n            }\r\n        }\r\n        else{\r\n            switch(num){\r\n                case 4:\r\n                    scoreInterval = Math.floor(node.width/7);\r\n                    if(0 < centerDistance && centerDistance <= 0.5*scoreInterval){\r\n                        GameDataManager.nextScore = 6;\r\n                        GameDataManager.addScoreGrade = 3;\r\n                    }\r\n                    else if(0.5*scoreInterval <centerDistance && centerDistance <= 1.5*scoreInterval){\r\n                        GameDataManager.nextScore = 5;\r\n                        GameDataManager.addScoreGrade = 2;\r\n                    }\r\n                    else if(1.5*scoreInterval <centerDistance && centerDistance <= 2.5*scoreInterval){\r\n                        GameDataManager.nextScore = 3;\r\n                        GameDataManager.addScoreGrade = 2;\r\n                    }\r\n                    else if(2.5*scoreInterval <centerDistance && centerDistance <= 3.5*scoreInterval){\r\n                        GameDataManager.nextScore = 1;\r\n                        GameDataManager.addScoreGrade = 1;\r\n                    }\r\n                    break;\r\n                case 5:\r\n                    scoreInterval = Math.floor(node.width/5);\r\n                    if(0 < centerDistance && centerDistance <= 0.5*scoreInterval){\r\n                        GameDataManager.nextScore = 7;\r\n                        GameDataManager.addScoreGrade = 3;\r\n                    }\r\n                    else if(0.5*scoreInterval <centerDistance && centerDistance <= 1.5*scoreInterval){\r\n                        GameDataManager.nextScore = 4;\r\n                        GameDataManager.addScoreGrade = 2;\r\n                    }\r\n                    else if(1.5*scoreInterval <centerDistance && centerDistance <= 2.5*scoreInterval){\r\n                        GameDataManager.nextScore = 2;\r\n                        GameDataManager.addScoreGrade = 1;\r\n                    }\r\n                    break;\r\n                case 6:\r\n                    scoreInterval = Math.floor(node.width/3);\r\n                    if(0 < centerDistance && centerDistance <= 0.5*scoreInterval){\r\n                        GameDataManager.nextScore = 8;\r\n                        GameDataManager.addScoreGrade = 3;\r\n                    }\r\n                    else if(0.5*scoreInterval <centerDistance && centerDistance <= 1.5*scoreInterval){\r\n                        GameDataManager.nextScore = 4;\r\n                        GameDataManager.addScoreGrade = 2;\r\n                    }\r\n                    break;\r\n            }\r\n        }\r\n    },\r\n    /**\r\n     * 激励式观看广告\r\n     * @param {*} adId 广告id\r\n     * @param {*} target \r\n     * @param {*} func  光看广告完成回调\r\n     */\r\n    createVideoAdv(adId,target,func){\r\n        var target = target;\r\n        //打开视频\r\n        target = wx.createRewardedVideoAd({ adUnitId: adId })\r\n        target.onLoad(() => {\r\n            console.log('激励视频 广告加载成功')\r\n        }),\r\n        target.onError(err => {\r\n            console.log(err)\r\n            func();\r\n        })\r\n        target.offClose();\r\n        target.onClose(res => {\r\n            // 小于 2.1.0 的基础库版本，res 是一个 undefined\r\n            if (res && res.isEnded || res === undefined) {\r\n                func();\r\n                console.log()\r\n            }\r\n            else {\r\n                console.log('中途退出不会获得游戏奖励')\r\n            }\r\n        })\r\n        target.show().catch(err => {\r\n            target.load().then(() => target.show())\r\n        })\r\n    },\r\n    /**\r\n     * 创建banner广告\r\n     * @param {*} func  广告调取失败回调\r\n     */\r\n    createBannerAdv(func){\r\n        if(GameConfig.gameOverBannerAdv){\r\n            GameConfig.gameOverBannerAdv.destroy();\r\n            GameConfig.gameOverBannerAdv = wx.createBannerAd({\r\n                adUnitId: 'adunit-14283a654627a2a0',\r\n                style: {\r\n                    left: 0,\r\n                    top: GameConfig.systemInfo.screenHeight - 110,\r\n                    width: GameConfig.systemInfo.screenWidth,\r\n                    height: 110,\r\n                }\r\n            });\r\n            GameConfig.gameOverBannerAdv.onLoad(() =>{\r\n                console.log('banner 广告加载成功')\r\n                GameConfig.gameOverBannerAdv.show(); \r\n              })\r\n            GameConfig.gameOverBannerAdv.onError(err => {\r\n                console.log(err)\r\n                func();\r\n              })\r\n        }\r\n        else{\r\n            GameConfig.gameOverBannerAdv = wx.createBannerAd({\r\n                adUnitId: 'adunit-14283a654627a2a0',\r\n                style: {\r\n                    left: 0,\r\n                    top: GameConfig.systemInfo.screenHeight - 110,\r\n                    width: GameConfig.systemInfo.screenWidth,\r\n                    height: 110,\r\n                }\r\n            })\r\n            GameConfig.gameOverBannerAdv.onLoad(() => {\r\n                console.log('banner 广告加载成功')\r\n                GameConfig.gameOverBannerAdv.show(); \r\n              })\r\n            GameConfig.gameOverBannerAdv.onError(err => {\r\n                console.log(err)\r\n                func();\r\n              })   \r\n        }\r\n    },\r\n    /**\r\n     * 获取当前日期\r\n     */\r\n    getDate(){\r\n        var date = new Date();\r\n        return date.toLocaleDateString(); \r\n    }\r\n}\r\nexport default Util"]}